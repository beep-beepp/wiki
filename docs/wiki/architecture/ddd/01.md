---
title: "01. DDD 개요"
parent: Domain Driven Design
grand_parent: Architecture
permalink: /architecture/ddd/01/
nav_order: 1
---

# 시작하며

- 이전 회사에서 아키텍처를 공부하며 시니어를 따라 회사에 맞는 구조 설계를 했었다. 그때 많이 참고 했던 구조는 clean architecture와 ddd였었다. 구조를 따라 만들어서 그런지 왜 필요한지에 대한 물음에 답을 잘하지 못하여 공부하게 되었다.

# DDD

- 2003년도의 에릭에반스가 작성한 책으로 부터 출발하게 되었다. DDD는 Domain-Driven Design으로 도메인 주도 설계다. 말그대로 **Design (설계)**로 ****DDD는 아키텍텍처가 아니라 도메인을 중심으로 생각하고 모델링하는 방법론이다.
- DDD를 잘적용하려다 보면 아키텍처와 궁합이 잘 맞아야해서 “클린 아키텍처” 또는 “헥사고날 아키텍처”와 같이 소개되어 그렇다.
    - **헥사고날 아키텍처**: 도메인을 외부 인프라에서 격리 → DDD의 "도메인 순수성"과 잘 맞음
    - **클린 아키텍처**: 의존성이 도메인 방향으로 흐름 → DDD의 "도메인 중심" 철학과 일치

## 핵심 철학

<aside>
💡 소프트웨어의 복잡성은 기술이 아니라 도메인 자체에서 온다.
</aside>

1. 도메인 중심이다.
    - 코드 구조의 출발점이 기술 계층(Controller, Service, Repository)이 아니라 비즈니스 개념(주문, 결제, 재고)이어야 함
    - **기술 중심 사고**: "Controller에서 뭘 받지? Service에서 뭘 처리하지? Entity 필드 뭐 넣지?"
    - **도메인 중심 사고**: "주문은 어떻게 생성되고, 어떻게 취소되고, 취소되면 재고는 어떻게 되지?"
    - **코드 차이**: 기술 중심은 Entity가 데이터 덩어리이고 로직이 Service에 흩어짐, 도메인 중심은 도메인 모델이 스스로 비즈니스 규칙을 알고 있음
2. 유비쿼터스 언어
    - 기획자 개발자 디자이너 등등 협업하는 사람은 같은 언어를 사용해야한다.  “장바구니에 담는다"를 개발자는 `addToCart()`, 기획서에는 "상품 임시 저장"이라고 쓰면 소통 비용이 커진다. 코드, 문서, 대화 모두에서 동일한 용어를 써야한다.
3. **모델 = 코드**
    - 화이트보드에 그린 도메인 모델, 비즈니스 흐름이 코드에도 동일하게 작성되어야한다.

## DDD를 실현하기 위하여

### 전략적 패턴

<aside>
💡 도메인을 어떻게 나눌까?
</aside>

- Bounded Context (경계 나누기)
- Context Map (경계 간 관계 정의)
- Ubiquitous Language (경계 안에서 쓸 언어)

```java
[주문 Context] ←→ [결제 Context] ←→ [배송 Context]

각 Context마다 "주문"의 의미가 다를 수 있음
- 주문 Context: 주문 = 상품 목록 + 금액
- 배송 Context: 주문 = 배송지 + 수령인
```

### 전술적 패턴

<aside>
💡 나눈 도메인 안에서 코드를 어떻게 짤까?
</aside>

- Entity, Value Object
- Aggregate, Aggregate Root
- Repository, Domain Service
